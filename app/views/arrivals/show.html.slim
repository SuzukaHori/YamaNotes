ruby:
  title "#{@station.name}駅に到着"
  set_meta_tags description: "#{@station.name}駅に到着の詳細ページです。"
  if @walk.finished?
    time_to_reach_goal = time_to_reach_goal(@walk)
    text_for_post = "【山手線を徒歩で一周に挑戦中】%0a山手線#{Station.count}駅全てを歩ききりました🎉🎉かかった時間は#{time_to_reach_goal}でした！"
  else
    number_of_walked = number_of_walked(@arrivals)
    number_of_remaining = number_of_remaining(@arrivals)
    arrived_distance = arrived_distance(@arrivals)
    text_for_post = "【山手線を徒歩で一周に挑戦中】%0a#{@station.name}駅に到着しました🎉歩いた駅は#{number_of_walked}駅（残り#{number_of_remaining}駅）、歩いた距離は約#{arrived_distance}kmです！"
  end

.my-8.mx-auto.py-8.px-4.text-lg.text-center.md:w-2/3
  - if @walk.finished?
    = render partial: 'finished', locals: { walk: @walk, arrival_of_departure: @walk.arrival_of_departure, arrival_of_goal: @walk.arrival_of_goal, time_to_reach_goal: }
  - else
      h2.mb-8.text-xl.font-bold #{@station.name}駅に到着🎉
      p
        | 歩いた駅は#{number_of_walked}駅（残り#{number_of_remaining}駅）、
        br
        | 歩いた距離は約#{arrived_distance}kmです！
  .mt-8 data-controller='modal'
    button#memo_modal_button.link-important.w-44 data-action='modal#open'
      | メモを追加
    = render partial: 'dialogs/memo', locals: { arrival: @arrival }
  .m-4
    = render partial: 'shared/post_button', locals: { text: text_for_post, url: arrival_report_url(@arrival) }
  .mt-12
    = link_to '地図に戻る', walk_path, class: 'link-important w-44'
