ruby:
  title "#{@station.name}é§…ã«åˆ°ç€"
  if @walk.finished?
    time = time_to_reach_goal(@walk)
    text_for_post = "ã€å±±æ‰‹ç·šã‚’å¾’æ­©ã§ä¸€å‘¨ã«æŒ‘æˆ¦ä¸­ã€‘%0aå±±æ‰‹ç·š#{Station.count}é§…å…¨ã¦ã‚’æ­©ããã‚Šã¾ã—ãŸğŸ‰ğŸ‰ã‹ã‹ã£ãŸæ™‚é–“ã¯#{time}ã§ã—ãŸï¼"
  else
    number_of_walked = number_of_walked(@arrivals)
    number_of_remaining = number_of_remaining(@arrivals)
    total_distance = total_distance(@arrivals)
    text_for_post = "ã€å±±æ‰‹ç·šã‚’å¾’æ­©ã§ä¸€å‘¨ã«æŒ‘æˆ¦ä¸­ã€‘%0a#{@station.name}é§…ã«åˆ°ç€ã—ã¾ã—ãŸğŸ‰æ­©ã„ãŸé§…ã¯#{number_of_walked}é§…ï¼ˆæ®‹ã‚Š#{number_of_remaining}é§…ï¼‰ã€æ­©ã„ãŸè·é›¢ã¯ç´„#{total_distance}kmã§ã™ï¼"
  end
.text-center
  - if @walk.finished?
    = render partial: 'finished', locals: { walk: @walk, arrival_of_departure: @walk.arrival_of_departure, arrival_of_goal: @walk.arrival_of_goal, time: }
  - else
    p
      | #{@station.name}é§…ã«åˆ°ç€ã—ã¾ã—ãŸğŸ‰
      br
      | æ­©ã„ãŸé§…ã¯#{number_of_walked}é§…ï¼ˆæ®‹ã‚Š#{number_of_remaining}é§…ï¼‰ã€
      | æ­©ã„ãŸè·é›¢ã¯ç´„#{total_distance}kmã§ã™ï¼
  .my-6
    = render partial: 'shared/post', locals: { text: text_for_post, url: arrival_report_url(@arrival) }
    div data-controller='modal' class='inline-block ml-4'
      button data-action='modal#open' id='memo_modal_button'
        | ãƒ¡ãƒ¢ã‚’é–‹ã
      = render partial: 'dialogs/memo', locals: { arrival: @arrival }

= link_to 'åœ°å›³ã«æˆ»ã‚‹', walk_path
