ruby:
  if @walk.finished?
    title "#{@station.name}é§…ã«ã‚´ãƒ¼ãƒ«"
    set_meta_tags description: 'ä¸€å‘¨ã®è¡¨å½°ãƒšãƒ¼ã‚¸ã§ã™'
    finish = true
    time_to_reach_goal = time_to_reach_goal(@walk)
    text_for_post = "ã€å±±æ‰‹ç·šã‚’å¾’æ­©ã§ä¸€å‘¨ã«æŒ‘æˆ¦ä¸­ã€‘%0aå±±æ‰‹ç·š#{Station.cache_count}é§…å…¨ã¦ã‚’æ­©ããã‚Šã¾ã—ãŸğŸ‰ğŸ‰ã‹ã‹ã£ãŸæ™‚é–“ã¯#{time_to_reach_goal}ã§ã—ãŸï¼"
  else
    title "#{@station.name}é§…ã«åˆ°ç€"
    set_meta_tags description: "#{@station.name}é§…ã«åˆ°ç€ã®è©³ç´°ãƒšãƒ¼ã‚¸ã§ã™ã€‚"
    number_of_remaining = number_of_remaining(number_of_walked: @number_of_walked)
    text_for_post = "ã€å±±æ‰‹ç·šã‚’å¾’æ­©ã§ä¸€å‘¨ã«æŒ‘æˆ¦ä¸­ã€‘%0a#{@station.name}é§…ã«åˆ°ç€ã—ã¾ã—ãŸğŸ‰æ­©ã„ãŸé§…ã¯#{@number_of_walked}é§…ï¼ˆæ®‹ã‚Š#{number_of_remaining}é§…ï¼‰ã€æ­©ã„ãŸè·é›¢ã¯ç´„#{@arrived_distance}kmã§ã™ï¼"
  end

.my-8.md:my-12.mx-auto.px-4.text-lg.text-center.md:w-2/3
  - if finish
    = render partial: 'finished', locals: { walk: @walk, arrival_of_departure: @walk.arrival_of_departure, arrival_of_goal: @walk.arrival_of_goal, time_to_reach_goal: }
  - else
    = render partial: 'arrived', locals: { station: @station, number_of_walked: @number_of_walked, number_of_remaining:, arrived_distance: @arrived_distance }
  .mt-4 data-controller='modal'
    button#memo_modal_button.link-important.w-44 data-action='modal#open'
      | ãƒ¡ãƒ¢ã‚’è¿½åŠ 
    = render partial: 'dialogs/memo', locals: { arrival: @arrival }
  .m-4
    = render partial: 'shared/post_button', locals: { text: text_for_post, url: walk_arrival_report_path(walk_id: @walk.id, arrival_id: @arrival.id) }
  .mt-8
    = link_to 'åœ°å›³ã«æˆ»ã‚‹', walk_path, class: 'link-important w-44'
