ruby:
  title "#{@station.name}駅に到着"
  set_meta_tags description: '到着記録の詳細ページです。'
  if @walk.finished?
    time = time_to_reach_goal(@walk)
    text_for_post = "【山手線を徒歩で一周に挑戦中】%0a山手線#{Station.count}駅全てを歩ききりました🎉🎉かかった時間は#{time}でした！"
  else
    number_of_walked = number_of_walked(@arrivals)
    number_of_remaining = number_of_remaining(@arrivals)
    total_distance = total_distance(@arrivals)
    text_for_post = "【山手線を徒歩で一周に挑戦中】%0a#{@station.name}駅に到着しました🎉歩いた駅は#{number_of_walked}駅（残り#{number_of_remaining}駅）、歩いた距離は約#{total_distance}kmです！"
  end

- if @walk.finished?
  = render partial: 'finished', locals: { walk: @walk, arrival_of_departure: @walk.arrival_of_departure, arrival_of_goal: @walk.arrival_of_goal, time: }
- else
  .mt-10.mb-8.mx-auto.py-8.px-4.border-4.text-lg.text-center.md:w-2/3
    p.mb-8.text-xl.font-bold #{@station.name}駅に到着しました🎉
    p
      | 歩いた駅は#{number_of_walked}駅（残り#{number_of_remaining}駅）、
      br
      | 歩いた距離は約#{total_distance}kmです！
    .mt-8
      = render partial: 'shared/buttons', locals: { text: text_for_post, url: arrival_report_url(@arrival) }
.text-center
  = link_to '地図に戻る', walk_path, class: 'bg-blue-500 text-white text-base font-medium py-2 px-8 border hover:bg-blue-300 rounded-full'
